import{a3 as S,k as l,a as o,j as y,F as C,g as f}from"./index.e9cc1e82.js";import{D as N,M as k}from"./MobileBoard.8276dc64.js";import{q as d}from"./qsToJson.ed475caa.js";import{d as M}from"./board.01a48eee.js";import{r as P}from"./request.ce4c326d.js";import{u as F}from"./InputAdornment.e7aae81a.js";import{a as b}from"./useQuery.esm.95e2541b.js";import"./dayjs.min.c1700d3b.js";import"./useModalContext.03f6cac0.js";import"./useInput.c1267fa4.js";import"./OutlinedInput.090a7b27.js";import"./GlobalStyles.19e4d845.js";import"./FormControl.a42a1c15.js";import"./Select.4bbcf2db.js";import"./LocalFireDepartmentOutlined.b00b2724.js";import"./useModal.8cbf86ca.js";import"./utils.esm.72dd4874.js";function K(){const g=S(),n=F(g.breakpoints.down("sm")),s=l(),r=d(s.search),[c,h]=o.exports.useState(1),[e,x]=o.exports.useState(10),[w,i]=o.exports.useState(1),{data:a}=b(["getSearchedAnnonymouseInfo",String(c),String(e),r.content],M,{refetchOnWindowFocus:!1,refetchOnMount:!1});o.exports.useEffect(()=>{P.get("/bulletin/search/count",{params:{keyword:r.content}}).then(t=>{t.data%e&&i(t.data/e),i(parseInt(String(t.data/e))+1)})},[e]),o.exports.useLayoutEffect(()=>{const t=d(s.search),u=Number(t==null?void 0:t.page),p=Number(t==null?void 0:t.viewCount);isNaN(u)||h(u),isNaN(p)||x(p)},[s.search]);const m={data:a==null?void 0:a.data,currentViewCount:e,currentPage:c,maxPage:w};return y(C,{children:[!n&&f(N,{...m,keyword:r.content}),n&&f(k,{...m,keyword:r.content})]})}export{K as default};
