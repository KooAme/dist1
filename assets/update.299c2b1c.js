import{k as D,a as C,l as _,j as u,g as e,G as r,I as s,B as R,h}from"./index.e9cc1e82.js";import"./request.ce4c326d.js";import{u as j}from"./useQueryOption.b32ec995.js";import{u as w,d as O}from"./ImageOutlined.c6bb7541.js";import{u as f}from"./useInput.c1267fa4.js";import"./useModalContext.03f6cac0.js";import{f as P}from"./board.928cdaae.js";import{R as g}from"./index.b539d1a9.js";import{u as S}from"./useMutation.esm.66450c32.js";import{F as x}from"./FormControl.a42a1c15.js";import{O as v}from"./OutlinedInput.090a7b27.js";import"./utils.esm.72dd4874.js";import"./GlobalStyles.19e4d845.js";function J(){const n=D(),l=f(n.state.detail.title),m=f(n.state.detail.content),o=w(),a=C.exports.useRef(null),[c,B]=C.exports.useState([]),d=_(),{option:I,token:p}=j(),{mutate:b}=S(["updateBulletin"],P,{...I,onSuccess:()=>d("/board/annonymous")}),k={bulletin_id:n.state.detail.bulletin_id,title:l.value,content:m.value,images:o.value,should_delete_img:c,token:p},y=()=>{d(-1)};return u(g,{children:[e(g.Title,{title:"\uAC8C\uC2DC\uAE00 \uC218\uC815"}),u(r,{xs:12,item:!0,px:2,textAlign:"end",children:[e(s,{onClick:()=>{var t;a&&((t=a.current)==null||t.click())},color:"primary",sx:{border:1,borderRadius:1},children:e(O,{})}),e("input",{style:{display:"none"},ref:a,type:"file",accept:"image/*",onChange:o.onChange,multiple:!1}),n.state.image.map((t,i)=>c.includes(t.image_id)?e("span",{},"none"+i):e(s,{onClick:()=>{B(A=>[...A,t.image_id])},children:e("img",{src:t.path,width:40})},"image"+i)),o.previewImgArr.map((t,i)=>t&&e(s,{onClick:()=>o.removeImageItem(i),children:e("img",{src:t,width:40})},"image"+i))]}),e(r,{xs:12,item:!0,p:2,children:e(x,{fullWidth:!0,children:e(v,{placeholder:"\uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694...",...l})})}),e(r,{xs:12,item:!0,p:2,children:e(x,{fullWidth:!0,children:e(v,{multiline:!0,rows:15,placeholder:"\uB0B4\uC6A9\uC744 \uC785\uB825\uD558\uC138\uC694...",...m})})}),e(r,{xs:12,item:!0,p:2,children:u(R,{display:"flex",justifyContent:"end",children:[e(h,{onClick:y,variant:"contained",color:"disable",children:"\uCDE8\uC18C"}),e(h,{variant:"contained",sx:{ml:2},onClick:()=>p&&b(k),children:"\uC81C\uCD9C"})]})})]})}export{J as default};
