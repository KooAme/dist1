import{k as F,a as h,l as _,j as a,g as e,G as o,I as s,B as D,h as f}from"./index.4b9d08d7.js";import"./request.3f29df96.js";import{u as R}from"./useQueryOption.0859a797.js";import{u as j,d as w}from"./ImageOutlined.f54ff1ba.js";import{u as g}from"./useInput.7f2aff69.js";import"./useModalContext.28eeed22.js";import{f as E}from"./board.b5ce875f.js";import{R as C}from"./index.02743629.js";import{u as O}from"./useMutation.esm.3bc68b78.js";import{F as B}from"./FormControl.2871b7f9.js";import{O as x}from"./OutlinedInput.36d8867f.js";import"./utils.esm.576e56a8.js";import"./GlobalStyles.48d223b5.js";function J(){const u=F(),l=g(u.state.detail.title),m=g(u.state.detail.content),n=j(),r=h.exports.useRef(null),[c,v]=h.exports.useState([]),d=_(),{option:I,token:p}=R(),{mutate:b}=O(["updateBulletin"],E,{...I,onSuccess:()=>d("/board/annonymous")}),k={bulletin_id:u.state.detail.bulletin_id,title:l.value,content:m.value,images:n.value,should_delete_img:c,token:p},y=()=>{d(-1)};return a(C,{children:[e(C.Title,{title:"\uAC8C\uC2DC\uAE00 \uC218\uC815"}),a(o,{xs:12,item:!0,px:2,textAlign:"end",children:[e(s,{onClick:()=>{var t;r&&((t=r.current)==null||t.click())},color:"primary",sx:{border:1,borderRadius:1},children:e(w,{})}),e("input",{style:{display:"none"},ref:r,type:"file",accept:"image/*",onChange:n.onChange,multiple:!1}),u.state.image.map((t,i)=>c.includes(t.image_id)?e("span",{},"none"+i):e(s,{onClick:()=>{v(A=>[...A,t.image_id])},children:e("img",{src:t.path,width:40})},"image"+i)),n.previewImgArr.map((t,i)=>t&&e(s,{onClick:()=>n.removeImageItem(i),children:e("img",{src:t,width:40})},"image"+i))]}),e(o,{xs:12,item:!0,p:2,children:e(B,{fullWidth:!0,children:e(x,{placeholder:"\u30BF\u30A4\u30C8\u30EB\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044...",...l})})}),e(o,{xs:12,item:!0,p:2,children:e(B,{fullWidth:!0,children:e(x,{multiline:!0,rows:15,placeholder:"\u5185\u5BB9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044...",...m})})}),e(o,{xs:12,item:!0,p:2,children:a(D,{display:"flex",justifyContent:"end",children:[e(f,{onClick:y,variant:"contained",color:"disable",children:"\u30AD\u30E3\u30F3\u30BB\u30EB"}),e(f,{variant:"contained",sx:{ml:2},onClick:()=>p&&b(k),children:"\u63D0\u51FA"})]})})]})}export{J as default};
