import{a as s,l as j,j as l,g as e,G as i,I as p,B as k,h as d}from"./index.cde5efb9.js";import{a as b}from"./request.527db9f2.js";import{u as D}from"./useQueryOption.bc5d16d3.js";import{u as R,d as w}from"./ImageOutlined.0daa6870.js";import{u as C}from"./useInput.a71396c8.js";import"./useModalContext.42a8ccd4.js";import{g as E}from"./board.bbab18c7.js";import{R as f}from"./index.578f339a.js";import{u as O}from"./useMutation.esm.5991efdc.js";import{F as h}from"./FormControl.9937e9c9.js";import{O as g}from"./OutlinedInput.9de19efa.js";import"./utils.esm.58b1171b.js";import"./GlobalStyles.99815698.js";function J(){const n=C(""),u=C(""),o=R(),a=s.exports.useRef(null),c=j(),[x,v]=s.exports.useState(""),{option:B,token:m}=D();s.exports.useEffect(()=>{b.get("https://api.ipify.org?format=json").then(t=>{const r=t.data.ip.split("."),A=[r[2],r[3]];v(A.join("."))}).catch(t=>{})},[]);const{mutate:I}=O(["createBulletin"],E,{...B,onSuccess:()=>{c("/board/annonymous")}}),y=()=>{c(-1)};return l(f,{children:[e(f.Title,{title:"\uAC8C\uC2DC\uAE00 \uC791\uC131"}),l(i,{xs:12,item:!0,px:2,textAlign:"end",children:[e(p,{onClick:()=>{var t;a&&((t=a.current)==null||t.click())},color:"primary",sx:{border:1,borderRadius:1},children:e(w,{})}),e("input",{style:{display:"none"},ref:a,type:"file",accept:"image/*",onChange:o.onChange,multiple:!1}),o.previewImgArr.map((t,r)=>t&&e(p,{onClick:()=>o.removeImageItem(r),children:e("img",{src:t,width:40})},"image"+r))]}),e(i,{xs:12,item:!0,p:2,children:e(h,{fullWidth:!0,children:e(g,{placeholder:"\uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694...",...n})})}),e(i,{xs:12,item:!0,p:2,children:e(h,{fullWidth:!0,children:e(g,{multiline:!0,rows:15,placeholder:"\uB0B4\uC6A9\uC744 \uC785\uB825\uD558\uC138\uC694...",...u})})}),e(i,{xs:12,item:!0,p:2,children:l(k,{display:"flex",justifyContent:"end",children:[e(d,{onClick:y,variant:"contained",color:"disable",children:"\uCDE8\uC18C"}),e(d,{variant:"contained",sx:{ml:2},onClick:()=>n.value&&u.value&&m&&I({title:n.value,content:u.value,images:o.value,ip:x,token:m}),children:"\uC81C\uCD9C"})]})})]})}export{J as default};
